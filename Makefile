# =============================================================================
# 
# Date:      10.04.2014
# License:   GPLv2
# Author:    alexander.fischer@chaosmail.org
# 
# =============================================================================

CC = gcc
INCLUDES = -I./inc
LIBS = -ldl

# =============================================================================

%.o: ./src/%.c ./inc/%.h
	$(CC) $(CCFLAGS) -c $(INCLUDES) -o $@ $<

%.o: ./src/%.c
	$(CC) $(CCFLAGS) -c $(INCLUDES) -o $@ $<

# =============================================================================
# TARGETS
# =============================================================================

all: heartbleed

heartbleed: main.o
	$(CC) $(CCFLAGS) $(INCLUDES) main.o -o heartbleed.run libssl.a libcrypto.a $(LIBS)

# =============================================================================

.PHONY: clean

clean:
	rm -f *.o

# =============================================================================

